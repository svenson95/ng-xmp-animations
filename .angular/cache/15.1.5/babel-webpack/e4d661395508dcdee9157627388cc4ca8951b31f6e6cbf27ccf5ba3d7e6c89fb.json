{"ast":null,"code":"import { NgZone } from '@angular/core';\nimport { animate, state, style, transition, trigger } from '@angular/animations';\nimport { fromEvent } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"image\"];\nexport class ScrollPointComponent {\n  constructor(ngZone) {\n    this.ngZone = ngZone;\n    this.typescript = `\n    import { fromEvent, Observable } from \"rxjs\";\n    import { debounceTime, map } from \"rxjs/operators\";\n\n    scrollEvent$ = fromEvent(window, 'wheel');\n\n    getEvent(): Observable<WheelEvent | Event> {\n      return this.scrollEvent$.pipe(\n        map((event) => event),\n        debounceTime(50)\n      );\n    }\n  `;\n    this.inViewport = false;\n    this.cards = ['@angular/animations is installed by default', \"import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\", 'Animation provides the illusion of motion: HTML elements change styling over time', 'Well-designed animations can make your application more fun and straightforward to use', 'Motion greatly enhances the user experience', \"Angular's animation system is built on CSS functionality\"];\n    this.scrollEvent$ = fromEvent(window, 'scroll').pipe(debounceTime(30));\n  }\n  get slideState() {\n    return this.inViewport ? 'visible' : 'hidden';\n  }\n  ngOnInit() {\n    this.ngZone.runOutsideAngular(() => {\n      // Angular triggers Change Detection every time when async operation (setTimeout/setInterval) ticks,\n      // or if promise has been resolved\n      // or when DOM event happens and it has some handler (this case).\n      // Inside runOutsideAngular callback, events which are usually triggering CD\n      // will not do it anymore, so you can improve performance of your app in this case.\n      this.scrollEvent$.subscribe(() => {\n        this.ngZone.run(() => {\n          this.inViewport = this.isInViewport(this.image.nativeElement);\n        });\n      });\n    });\n  }\n  isInViewport(el) {\n    const {\n      top,\n      bottom\n    } = el.getBoundingClientRect();\n    return top <= 800 && bottom >= 300;\n  }\n  toggleSlide() {\n    this.inViewport = !this.inViewport;\n  }\n}\nScrollPointComponent.ɵfac = function ScrollPointComponent_Factory(t) {\n  return new (t || ScrollPointComponent)(i0.ɵɵdirectiveInject(NgZone));\n};\nScrollPointComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ScrollPointComponent,\n  selectors: [[\"app-scroll-point\"]],\n  viewQuery: function ScrollPointComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.image = _t.first);\n    }\n  },\n  decls: 11,\n  vars: 2,\n  consts: [[1, \"two\"], [1, \"content\"], [1, \"header\"], [1, \"title\", \"left\", \"top\"], [1, \"wrapper\"], [1, \"image-wrapper\"], [\"src\", \"assets/angular-logo.svg\", \"alt\", \"angular-logo\"], [\"image\", \"\"]],\n  template: function ScrollPointComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\", 3);\n      i0.ɵɵtext(4, \"Scroll point animation\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"code\");\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 5);\n      i0.ɵɵelement(9, \"img\", 6, 7);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.typescript);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"@scrolling\", ctx.slideState);\n    }\n  },\n  styles: [\"section.two[_ngcontent-%COMP%] {\\n  background-image: linear-gradient(to right bottom, rgba(214, 7, 7, 0.6), rgba(214, 7, 7, 0.7));\\n}\\nsection.two[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%] {\\n  color: white;\\n}\\nsection.two[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] {\\n  width: 80%;\\n  max-width: 800px;\\n  margin: auto;\\n}\\nsection.two[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] {\\n  display: flex;\\n}\\nsection.two[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   code[_ngcontent-%COMP%] {\\n  white-space: pre;\\n  color: white;\\n  background: transparent;\\n}\\nsection.two[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.wrapper[_ngcontent-%COMP%] {\\n  margin-left: auto;\\n  max-width: 550px;\\n}\\nsection.two[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: flex-end;\\n  margin-top: 20px;\\n}\\nsection.two[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 180px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9zY3JvbGwtcG9pbnQvc2Nyb2xsLXBvaW50LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBO0VBQ0UsOEZBQUE7QUFGRjtBQUlFO0VBQ0UsWUFBQTtBQUZKO0FBS0U7RUFDRSxVQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0FBSEo7QUFLSTtFQUNFLGFBQUE7QUFITjtBQU1JO0VBQ0UsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsdUJBQUE7QUFKTjtBQU9JO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtBQUxOO0FBUUk7RUFDRSxhQUFBO0VBQ0EseUJBQUE7RUFDQSxnQkFBQTtBQU5OO0FBUU07RUFDRSxZQUFBO0FBTlIiLCJzb3VyY2VzQ29udGVudCI6WyIkc2VjdGlvbi10d28tYmctMTogcmdiYSgjZDYwNzA3LCAuNik7XG4kc2VjdGlvbi10d28tYmctMjogcmdiYSgjZDYwNzA3LCAuNyk7XG5cbnNlY3Rpb24udHdvIHtcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0IGJvdHRvbSwgJHNlY3Rpb24tdHdvLWJnLTEsICRzZWN0aW9uLXR3by1iZy0yKTtcblxuICAudGl0bGUge1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgfVxuXG4gIC5jb250ZW50IHtcbiAgICB3aWR0aDogODAlO1xuICAgIG1heC13aWR0aDogODAwcHg7XG4gICAgbWFyZ2luOiBhdXRvO1xuXG4gICAgLmhlYWRlciB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgIH1cblxuICAgIGNvZGUge1xuICAgICAgd2hpdGUtc3BhY2U6IHByZTtcbiAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgIH1cblxuICAgIGRpdi53cmFwcGVyIHtcbiAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgICAgbWF4LXdpZHRoOiA1NTBweDtcbiAgICB9XG5cbiAgICAuaW1hZ2Utd3JhcHBlciB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgICAgIG1hcmdpbi10b3A6IDIwcHg7XG5cbiAgICAgIGltZyB7XG4gICAgICAgIHdpZHRoOiAxODBweDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"],\n  data: {\n    animation: [trigger('scrolling', [state('*', style({\n      opacity: 0,\n      transform: 'translateX(-200%)'\n    })), state('visible', style({\n      opacity: '*' // opacity is 1.0 by default\n    })), state('hidden', style({\n      opacity: 0.1\n    })), transition('visible => hidden', animate('500ms ease-out')), transition('hidden => visible', animate('200ms ease-in'))])]\n  }\n});","map":{"version":3,"mappings":"AAAA,SAIEA,MAAM,QAGD,eAAe;AACtB,SACEC,OAAO,EACPC,KAAK,EACLC,KAAK,EACLC,UAAU,EACVC,OAAO,QACF,qBAAqB;AAE5B,SAASC,SAAS,QAAQ,MAAM;AAChC,SAASC,YAAY,QAAQ,gBAAgB;;;AAgC7C,OAAM,MAAOC,oBAAoB;EA2B/BC,YAAoCC,MAAc;IAAd,WAAM,GAANA,MAAM;IA1BnC,eAAU,GAAG;;;;;;;;;;;;GAYnB;IAGD,eAAU,GAAG,KAAK;IAClB,UAAK,GAAG,CACN,6CAA6C,EAC7C,iFAAiF,EACjF,mFAAmF,EACnF,wFAAwF,EACxF,6CAA6C,EAC7C,0DAA0D,CAC3D;IACD,iBAAY,GAAGJ,SAAS,CAACK,MAAM,EAAE,QAAQ,CAAC,CAACC,IAAI,CAACL,YAAY,CAAC,EAAE,CAAC,CAAC;EAEZ;EAErD,IAAIM,UAAU;IACZ,OAAO,IAAI,CAACC,UAAU,GAAG,SAAS,GAAG,QAAQ;EAC/C;EAEAC,QAAQ;IACN,IAAI,CAACL,MAAM,CAACM,iBAAiB,CAAC,MAAK;MACjC;MACA;MACA;MACA;MACA;MAEA,IAAI,CAACC,YAAY,CAACC,SAAS,CAAC,MAAK;QAC/B,IAAI,CAACR,MAAM,CAACS,GAAG,CAAC,MAAK;UACnB,IAAI,CAACL,UAAU,GAAG,IAAI,CAACM,YAAY,CAAC,IAAI,CAACC,KAAK,CAACC,aAAa,CAAC;QAC/D,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEAF,YAAY,CAACG,EAAe;IAC1B,MAAM;MAAEC,GAAG;MAAEC;IAAM,CAAE,GAAGF,EAAE,CAACG,qBAAqB,EAAE;IAClD,OAAOF,GAAG,IAAI,GAAG,IAAIC,MAAM,IAAI,GAAG;EACpC;EAEAE,WAAW;IACT,IAAI,CAACb,UAAU,GAAG,CAAC,IAAI,CAACA,UAAU;EACpC;;AAxDWN,oBAAoB;mBAApBA,oBAAoB,uBA2BXR,MAAM;AAAA;AA3BfQ,oBAAoB;QAApBA,oBAAoB;EAAAoB;EAAAC;IAAA;;;;;;;;;;;;;MCjDjCC,kCAAqB;MAGYA,sCAAsB;MAAAA,iBAAK;MAExDA,8BAAqB;MACbA,YAAc;MAAAA,iBAAO;MAE7BA,8BAAqD;MACnDA,4BAA6D;MAC/DA,iBAAM;;;MAJEA,eAAc;MAAdA,oCAAc;MAEKA,eAAyB;MAAzBA,2CAAyB;;;;;eDe1C,CACVzB,OAAO,CAAC,WAAW,EAAE,CACnBH,KAAK,CACH,GAAG,EACHC,KAAK,CAAC;MACJ4B,OAAO,EAAE,CAAC;MACVC,SAAS,EAAE;KACZ,CAAC,CACH,EACD9B,KAAK,CACH,SAAS,EACTC,KAAK,CAAC;MACJ4B,OAAO,EAAE,GAAG,CAAE;KACf,CAAC,CACH,EACD7B,KAAK,CACH,QAAQ,EACRC,KAAK,CAAC;MACJ4B,OAAO,EAAE;KACV,CAAC,CACH,EACD3B,UAAU,CAAC,mBAAmB,EAAEH,OAAO,CAAC,gBAAgB,CAAC,CAAC,EAC1DG,UAAU,CAAC,mBAAmB,EAAEH,OAAO,CAAC,eAAe,CAAC,CAAC,CAC1D,CAAC;EACH;AAAA","names":["NgZone","animate","state","style","transition","trigger","fromEvent","debounceTime","ScrollPointComponent","constructor","ngZone","window","pipe","slideState","inViewport","ngOnInit","runOutsideAngular","scrollEvent$","subscribe","run","isInViewport","image","nativeElement","el","top","bottom","getBoundingClientRect","toggleSlide","selectors","viewQuery","i0","opacity","transform"],"sourceRoot":"","sources":["/Users/svenbrodny/Developer/private/ng-xmp-animations/src/app/components/scroll-point/scroll-point.component.ts","/Users/svenbrodny/Developer/private/ng-xmp-animations/src/app/components/scroll-point/scroll-point.component.html"],"sourcesContent":["import {\n  Component,\n  ElementRef,\n  Inject,\n  NgZone,\n  OnInit,\n  ViewChild,\n} from '@angular/core';\nimport {\n  animate,\n  state,\n  style,\n  transition,\n  trigger,\n} from '@angular/animations';\n\nimport { fromEvent } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-scroll-point',\n  templateUrl: './scroll-point.component.html',\n  styleUrls: ['./scroll-point.component.scss'],\n  animations: [\n    trigger('scrolling', [\n      state(\n        '*',\n        style({\n          opacity: 0,\n          transform: 'translateX(-200%)',\n        })\n      ),\n      state(\n        'visible',\n        style({\n          opacity: '*', // opacity is 1.0 by default\n        })\n      ),\n      state(\n        'hidden',\n        style({\n          opacity: 0.1,\n        })\n      ),\n      transition('visible => hidden', animate('500ms ease-out')),\n      transition('hidden => visible', animate('200ms ease-in')),\n    ]),\n  ],\n})\nexport class ScrollPointComponent implements OnInit {\n  public typescript = `\n    import { fromEvent, Observable } from \"rxjs\";\n    import { debounceTime, map } from \"rxjs/operators\";\n\n    scrollEvent$ = fromEvent(window, 'wheel');\n\n    getEvent(): Observable<WheelEvent | Event> {\n      return this.scrollEvent$.pipe(\n        map((event) => event),\n        debounceTime(50)\n      );\n    }\n  `;\n\n  @ViewChild('image') image!: ElementRef;\n  inViewport = false;\n  cards = [\n    '@angular/animations is installed by default',\n    \"import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\",\n    'Animation provides the illusion of motion: HTML elements change styling over time',\n    'Well-designed animations can make your application more fun and straightforward to use',\n    'Motion greatly enhances the user experience',\n    \"Angular's animation system is built on CSS functionality\",\n  ];\n  scrollEvent$ = fromEvent(window, 'scroll').pipe(debounceTime(30));\n\n  constructor(@Inject(NgZone) private ngZone: NgZone) {}\n\n  get slideState() {\n    return this.inViewport ? 'visible' : 'hidden';\n  }\n\n  ngOnInit() {\n    this.ngZone.runOutsideAngular(() => {\n      // Angular triggers Change Detection every time when async operation (setTimeout/setInterval) ticks,\n      // or if promise has been resolved\n      // or when DOM event happens and it has some handler (this case).\n      // Inside runOutsideAngular callback, events which are usually triggering CD\n      // will not do it anymore, so you can improve performance of your app in this case.\n\n      this.scrollEvent$.subscribe(() => {\n        this.ngZone.run(() => {\n          this.inViewport = this.isInViewport(this.image.nativeElement);\n        });\n      });\n    });\n  }\n\n  isInViewport(el: HTMLElement) {\n    const { top, bottom } = el.getBoundingClientRect();\n    return top <= 800 && bottom >= 300;\n  }\n\n  toggleSlide() {\n    this.inViewport = !this.inViewport;\n  }\n}\n","<section class=\"two\">\n  <div class=\"content\">\n    <div class=\"header\">\n      <h1 class=\"title left top\">Scroll point animation</h1>\n    </div>\n    <div class=\"wrapper\">\n      <code>{{typescript}}</code>\n    </div>\n    <div class=\"image-wrapper\" [@scrolling]=\"slideState\">\n      <img src=\"assets/angular-logo.svg\" alt=\"angular-logo\" #image>\n    </div>\n  </div>\n</section>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}