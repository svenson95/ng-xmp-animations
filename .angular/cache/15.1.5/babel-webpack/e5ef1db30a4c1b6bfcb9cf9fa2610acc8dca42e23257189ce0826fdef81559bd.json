{"ast":null,"code":"import { NgZone } from '@angular/core';\nimport { animate, state, style, transition, trigger } from '@angular/animations';\nimport { fromEvent } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"image\"];\nexport class ScrollPointComponent {\n  constructor(ngZone) {\n    this.ngZone = ngZone;\n    this.typescript = `\n    import { fromEvent, Observable } from \"rxjs\";\n    import { debounceTime, map } from \"rxjs/operators\";\n\n    scrollEvent$ = fromEvent(window, 'wheel');\n\n    getEvent(): Observable<WheelEvent | Event> {\n      return this.scrollEvent$.pipe(\n        map((event) => event),\n        debounceTime(50)\n      );\n    }\n  `;\n    this.inViewport = false;\n    this.cards = ['@angular/animations is installed by default', \"import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\", 'Animation provides the illusion of motion: HTML elements change styling over time', 'Well-designed animations can make your application more fun and straightforward to use', 'Motion greatly enhances the user experience', \"Angular's animation system is built on CSS functionality\"];\n    this.scrollEvent$ = fromEvent(window, 'scroll').pipe(debounceTime(30));\n  }\n  get slideState() {\n    return this.inViewport ? 'visible' : 'hidden';\n  }\n  ngOnInit() {\n    this.ngZone.runOutsideAngular(() => {\n      // Angular triggers Change Detection every time when async operation (setTimeout/setInterval) ticks,\n      // or if promise has been resolved\n      // or when DOM event happens and it has some handler (this case).\n      // Inside runOutsideAngular callback, events which are usually triggering CD\n      // will not do it anymore, so you can improve performance of your app in this case.\n      this.scrollEvent$.subscribe(() => {\n        this.ngZone.run(() => {\n          this.inViewport = this.isInViewport(this.image.nativeElement);\n        });\n      });\n    });\n  }\n  isInViewport(el) {\n    const {\n      top,\n      bottom\n    } = el.getBoundingClientRect();\n    return top <= 800 && bottom >= 300;\n  }\n  toggleSlide() {\n    this.inViewport = !this.inViewport;\n  }\n}\nScrollPointComponent.ɵfac = function ScrollPointComponent_Factory(t) {\n  return new (t || ScrollPointComponent)(i0.ɵɵdirectiveInject(NgZone));\n};\nScrollPointComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ScrollPointComponent,\n  selectors: [[\"app-scroll-point\"]],\n  viewQuery: function ScrollPointComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.image = _t.first);\n    }\n  },\n  decls: 11,\n  vars: 2,\n  consts: [[1, \"two\"], [1, \"content\"], [1, \"header\"], [1, \"title\", \"left\", \"top\"], [1, \"wrapper\"], [1, \"card\"], [\"src\", \"assets/angular-logo.svg\", \"alt\", \"angular-logo\"], [\"image\", \"\"]],\n  template: function ScrollPointComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\", 3);\n      i0.ɵɵtext(4, \"Scroll point animation\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"code\");\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 5);\n      i0.ɵɵelement(9, \"img\", 6, 7);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.typescript);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"@scrolling\", ctx.slideState);\n    }\n  },\n  styles: [\"section.two[_ngcontent-%COMP%] {\\n  background-image: linear-gradient(to right bottom, rgba(214, 7, 7, 0.6), rgba(214, 7, 7, 0.7));\\n}\\nsection.two[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%] {\\n  color: white;\\n}\\nsection.two[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] {\\n  width: 80%;\\n  max-width: 800px;\\n  margin: auto;\\n}\\nsection.two[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] {\\n  display: flex;\\n}\\nsection.two[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   code[_ngcontent-%COMP%] {\\n  white-space: pre;\\n  color: white;\\n  background: transparent;\\n}\\nsection.two[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   div.wrapper[_ngcontent-%COMP%] {\\n  margin-left: auto;\\n  max-width: 550px;\\n}\\nsection.two[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] {\\n  width: 180px;\\n  margin-top: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9zY3JvbGwtcG9pbnQvc2Nyb2xsLXBvaW50LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBO0VBQ0UsOEZBQUE7QUFGRjtBQUlFO0VBQ0UsWUFBQTtBQUZKO0FBS0U7RUFDRSxVQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0FBSEo7QUFLSTtFQUNFLGFBQUE7QUFITjtBQU1JO0VBQ0UsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsdUJBQUE7QUFKTjtBQU9JO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtBQUxOO0FBUUk7RUFDRSxZQUFBO0VBQ0EsZ0JBQUE7QUFOTiIsInNvdXJjZXNDb250ZW50IjpbIiRzZWN0aW9uLXR3by1iZy0xOiByZ2JhKCNkNjA3MDcsIC42KTtcclxuJHNlY3Rpb24tdHdvLWJnLTI6IHJnYmEoI2Q2MDcwNywgLjcpO1xyXG5cclxuc2VjdGlvbi50d28ge1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byByaWdodCBib3R0b20sICRzZWN0aW9uLXR3by1iZy0xLCAkc2VjdGlvbi10d28tYmctMik7XHJcblxyXG4gIC50aXRsZSB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgfVxyXG5cclxuICAuY29udGVudCB7XHJcbiAgICB3aWR0aDogODAlO1xyXG4gICAgbWF4LXdpZHRoOiA4MDBweDtcclxuICAgIG1hcmdpbjogYXV0bztcclxuXHJcbiAgICAuaGVhZGVyIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgIH1cclxuXHJcbiAgICBjb2RlIHtcclxuICAgICAgd2hpdGUtc3BhY2U6IHByZTtcclxuICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgIH1cclxuXHJcbiAgICBkaXYud3JhcHBlciB7XHJcbiAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgICBtYXgtd2lkdGg6IDU1MHB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5jYXJkIHtcclxuICAgICAgd2lkdGg6IDE4MHB4O1xyXG4gICAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"],\n  data: {\n    animation: [trigger('scrolling', [state('*', style({\n      opacity: 0,\n      transform: 'translateX(-200%)'\n    })), state('visible', style({\n      opacity: '*' // opacity is 1.0 by default\n    })), state('hidden', style({\n      opacity: 0.1\n    })), transition('visible => hidden', animate('500ms ease-out')), transition('hidden => visible', animate('200ms ease-in'))])]\n  }\n});","map":{"version":3,"mappings":"AAAA,SAIEA,MAAM,QAGD,eAAe;AACtB,SACEC,OAAO,EACPC,KAAK,EACLC,KAAK,EACLC,UAAU,EACVC,OAAO,QACF,qBAAqB;AAE5B,SAASC,SAAS,QAAQ,MAAM;AAChC,SAASC,YAAY,QAAQ,gBAAgB;;;AAgC7C,OAAM,MAAOC,oBAAoB;EA2B/BC,YAAoCC,MAAc;IAAd,WAAM,GAANA,MAAM;IA1BnC,eAAU,GAAG;;;;;;;;;;;;GAYnB;IAGD,eAAU,GAAG,KAAK;IAClB,UAAK,GAAG,CACN,6CAA6C,EAC7C,iFAAiF,EACjF,mFAAmF,EACnF,wFAAwF,EACxF,6CAA6C,EAC7C,0DAA0D,CAC3D;IACD,iBAAY,GAAGJ,SAAS,CAACK,MAAM,EAAE,QAAQ,CAAC,CAACC,IAAI,CAACL,YAAY,CAAC,EAAE,CAAC,CAAC;EAEZ;EAErD,IAAIM,UAAU;IACZ,OAAO,IAAI,CAACC,UAAU,GAAG,SAAS,GAAG,QAAQ;EAC/C;EAEAC,QAAQ;IACN,IAAI,CAACL,MAAM,CAACM,iBAAiB,CAAC,MAAK;MACjC;MACA;MACA;MACA;MACA;MAEA,IAAI,CAACC,YAAY,CAACC,SAAS,CAAC,MAAK;QAC/B,IAAI,CAACR,MAAM,CAACS,GAAG,CAAC,MAAK;UACnB,IAAI,CAACL,UAAU,GAAG,IAAI,CAACM,YAAY,CAAC,IAAI,CAACC,KAAK,CAACC,aAAa,CAAC;QAC/D,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEAF,YAAY,CAACG,EAAe;IAC1B,MAAM;MAAEC,GAAG;MAAEC;IAAM,CAAE,GAAGF,EAAE,CAACG,qBAAqB,EAAE;IAClD,OAAOF,GAAG,IAAI,GAAG,IAAIC,MAAM,IAAI,GAAG;EACpC;EAEAE,WAAW;IACT,IAAI,CAACb,UAAU,GAAG,CAAC,IAAI,CAACA,UAAU;EACpC;;AAxDWN,oBAAoB;mBAApBA,oBAAoB,uBA2BXR,MAAM;AAAA;AA3BfQ,oBAAoB;QAApBA,oBAAoB;EAAAoB;EAAAC;IAAA;;;;;;;;;;;;;MCjDjCC,kCAAqB;MAGYA,sCAAsB;MAAAA,iBAAK;MAExDA,8BAAqB;MACbA,YAAc;MAAAA,iBAAO;MAE7BA,8BAA4C;MAC1CA,4BAA6D;MAC/DA,iBAAM;;;MAJEA,eAAc;MAAdA,oCAAc;MAEJA,eAAyB;MAAzBA,2CAAyB;;;;;eDejC,CACVzB,OAAO,CAAC,WAAW,EAAE,CACnBH,KAAK,CACH,GAAG,EACHC,KAAK,CAAC;MACJ4B,OAAO,EAAE,CAAC;MACVC,SAAS,EAAE;KACZ,CAAC,CACH,EACD9B,KAAK,CACH,SAAS,EACTC,KAAK,CAAC;MACJ4B,OAAO,EAAE,GAAG,CAAE;KACf,CAAC,CACH,EACD7B,KAAK,CACH,QAAQ,EACRC,KAAK,CAAC;MACJ4B,OAAO,EAAE;KACV,CAAC,CACH,EACD3B,UAAU,CAAC,mBAAmB,EAAEH,OAAO,CAAC,gBAAgB,CAAC,CAAC,EAC1DG,UAAU,CAAC,mBAAmB,EAAEH,OAAO,CAAC,eAAe,CAAC,CAAC,CAC1D,CAAC;EACH;AAAA","names":["NgZone","animate","state","style","transition","trigger","fromEvent","debounceTime","ScrollPointComponent","constructor","ngZone","window","pipe","slideState","inViewport","ngOnInit","runOutsideAngular","scrollEvent$","subscribe","run","isInViewport","image","nativeElement","el","top","bottom","getBoundingClientRect","toggleSlide","selectors","viewQuery","i0","opacity","transform"],"sourceRoot":"","sources":["C:\\Users\\svenb\\Developer\\Angular\\ng-xmp\\ng-xmp-animations\\src\\app\\components\\scroll-point\\scroll-point.component.ts","C:\\Users\\svenb\\Developer\\Angular\\ng-xmp\\ng-xmp-animations\\src\\app\\components\\scroll-point\\scroll-point.component.html"],"sourcesContent":["import {\r\n  Component,\r\n  ElementRef,\r\n  Inject,\r\n  NgZone,\r\n  OnInit,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport {\r\n  animate,\r\n  state,\r\n  style,\r\n  transition,\r\n  trigger,\r\n} from '@angular/animations';\r\n\r\nimport { fromEvent } from 'rxjs';\r\nimport { debounceTime } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-scroll-point',\r\n  templateUrl: './scroll-point.component.html',\r\n  styleUrls: ['./scroll-point.component.scss'],\r\n  animations: [\r\n    trigger('scrolling', [\r\n      state(\r\n        '*',\r\n        style({\r\n          opacity: 0,\r\n          transform: 'translateX(-200%)',\r\n        })\r\n      ),\r\n      state(\r\n        'visible',\r\n        style({\r\n          opacity: '*', // opacity is 1.0 by default\r\n        })\r\n      ),\r\n      state(\r\n        'hidden',\r\n        style({\r\n          opacity: 0.1,\r\n        })\r\n      ),\r\n      transition('visible => hidden', animate('500ms ease-out')),\r\n      transition('hidden => visible', animate('200ms ease-in')),\r\n    ]),\r\n  ],\r\n})\r\nexport class ScrollPointComponent implements OnInit {\r\n  public typescript = `\r\n    import { fromEvent, Observable } from \"rxjs\";\r\n    import { debounceTime, map } from \"rxjs/operators\";\r\n\r\n    scrollEvent$ = fromEvent(window, 'wheel');\r\n\r\n    getEvent(): Observable<WheelEvent | Event> {\r\n      return this.scrollEvent$.pipe(\r\n        map((event) => event),\r\n        debounceTime(50)\r\n      );\r\n    }\r\n  `;\r\n\r\n  @ViewChild('image') image!: ElementRef;\r\n  inViewport = false;\r\n  cards = [\r\n    '@angular/animations is installed by default',\r\n    \"import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\",\r\n    'Animation provides the illusion of motion: HTML elements change styling over time',\r\n    'Well-designed animations can make your application more fun and straightforward to use',\r\n    'Motion greatly enhances the user experience',\r\n    \"Angular's animation system is built on CSS functionality\",\r\n  ];\r\n  scrollEvent$ = fromEvent(window, 'scroll').pipe(debounceTime(30));\r\n\r\n  constructor(@Inject(NgZone) private ngZone: NgZone) {}\r\n\r\n  get slideState() {\r\n    return this.inViewport ? 'visible' : 'hidden';\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      // Angular triggers Change Detection every time when async operation (setTimeout/setInterval) ticks,\r\n      // or if promise has been resolved\r\n      // or when DOM event happens and it has some handler (this case).\r\n      // Inside runOutsideAngular callback, events which are usually triggering CD\r\n      // will not do it anymore, so you can improve performance of your app in this case.\r\n\r\n      this.scrollEvent$.subscribe(() => {\r\n        this.ngZone.run(() => {\r\n          this.inViewport = this.isInViewport(this.image.nativeElement);\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  isInViewport(el: HTMLElement) {\r\n    const { top, bottom } = el.getBoundingClientRect();\r\n    return top <= 800 && bottom >= 300;\r\n  }\r\n\r\n  toggleSlide() {\r\n    this.inViewport = !this.inViewport;\r\n  }\r\n}\r\n","<section class=\"two\">\r\n  <div class=\"content\">\r\n    <div class=\"header\">\r\n      <h1 class=\"title left top\">Scroll point animation</h1>\r\n    </div>\r\n    <div class=\"wrapper\">\r\n      <code>{{typescript}}</code>\r\n    </div>\r\n    <div class=\"card\" [@scrolling]=\"slideState\">\r\n      <img src=\"assets/angular-logo.svg\" alt=\"angular-logo\" #image>\r\n    </div>\r\n  </div>\r\n</section>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}